FROM registry.access.redhat.com/ubi9/python-312@sha256:a1b2f4b9f75ee731a1f05a5d4e23e01d549d9f925325095c285171b30c6f7236

LABEL description="This image provides a data collection service for segment"
LABEL io.k8s.description="This image provides a data collection service for segment"
LABEL io.k8s.display-name="segment collection"
LABEL io.openshift.tags="segment,segment-collection"
LABEL summary="Provides the segment data collection service"
LABEL com.redhat.component="segment-collection"
LABEL name="rhtas/segment-reporting-rhel9"


USER 0

WORKDIR /opt/app-root/src/

COPY . .

ADD licenses/ /licenses/

ENV HATCH_METADATA_CLASSIFIERS_NO_VERIFY=1

RUN pip install -U pip && \
    pip install -r /opt/app-root/src/requirements.txt --force-reinstall

USER 1001
